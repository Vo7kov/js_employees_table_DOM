{"version":3,"sources":["scripts/main.js"],"names":["lastActiveTr","tableBody","document","querySelector","addActiveClass","tr","classList","remove","add","addEventListener","e","target","closest","form","createElement","createFormElement","labelText","element","elementName","elementQa","elementType","elementValues","label","innerText","append","unit","setAttribute","removeAttribute","value","option","body","selectValues","button","validateObject","name","position","age","salary","inputs","querySelectorAll","select","validateInputs","allInputs","isValid","forEach","input","validateName","validatePosition","validateAge","validateSalary","length","pushNotification","isNaN","numberValue","getSimpleNumber","addNewEmployee","selectElement","index","findIndex","selectTd","td","toLocaleString","insertBefore","children","string","trim","NaN","getAdvancedNumber","slice","split","join","posTop","posRight","title","description","type","notificationBody","notificationTitle","notificationText","style","top","right","prepend","setTimeout","setInput","cellInput","tdData","includes","preventDefault","Object","values","every","reset"],"mappings":"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","file":"main.72b23112.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst tableBody = document.querySelector('tbody');\r\n\r\n// Add 'active' class\r\nlet lastActiveTr;\r\n\r\ntableBody.addEventListener('click', (e) => {\r\n  const tr = e.target.closest('tr');\r\n\r\n  addActiveClass(tr);\r\n});\r\n\r\nfunction addActiveClass(tr) {\r\n  const activeClass = 'active';\r\n\r\n  if (lastActiveTr) {\r\n    lastActiveTr.classList.remove(activeClass);\r\n  }\r\n\r\n  lastActiveTr = tr;\r\n  lastActiveTr.classList.add(activeClass);\r\n}\r\n\r\n// Form\r\nconst form = document.createElement('form');\r\n\r\nform.classList.add('new-employee-form');\r\nform.setAttribute('action', '#');\r\nform.setAttribute('method', 'post');\r\n\r\ndocument.body.append(form);\r\n\r\n// Inputs, labels and select\r\nfunction createFormElement(\r\n  labelText,\r\n  element,\r\n  elementName,\r\n  elementQa,\r\n  elementType,\r\n  elementValues\r\n) {\r\n  // Label\r\n  const label = document.createElement('label');\r\n\r\n  label.innerText = labelText;\r\n  form.append(label);\r\n\r\n  // Input || Select\r\n  let unit = document.createElement('input');\r\n\r\n  unit.setAttribute('type', elementType);\r\n\r\n  if (element === 'select') {\r\n    unit = document.createElement('select');\r\n    unit.removeAttribute('type');\r\n\r\n    for (const value of elementValues) {\r\n      const option = document.createElement('option');\r\n\r\n      option.innerText = value;\r\n      unit.append(option);\r\n    }\r\n  }\r\n\r\n  unit.setAttribute('name', elementName);\r\n  unit.setAttribute('data-qa', elementQa);\r\n  label.append(unit);\r\n}\r\n\r\n// Name\r\ncreateFormElement(\r\n  'Name:',\r\n  'input',\r\n  'name',\r\n  'name',\r\n  'text'\r\n);\r\n\r\n// Position\r\ncreateFormElement(\r\n  'Position',\r\n  'input',\r\n  'position',\r\n  'position',\r\n  'text'\r\n);\r\n\r\n// Office\r\nconst selectValues = [\r\n  'Tokyo',\r\n  'Singapore',\r\n  'London',\r\n  'New York',\r\n  'Edinbrugh',\r\n  'San Francisco',\r\n];\r\n\r\ncreateFormElement(\r\n  'Office:',\r\n  'select',\r\n  'office',\r\n  'office',\r\n  null,\r\n  selectValues,\r\n);\r\n\r\n// Age\r\ncreateFormElement(\r\n  'Age:',\r\n  'input',\r\n  'age',\r\n  'age',\r\n  'number',\r\n);\r\n\r\n// Salary\r\ncreateFormElement(\r\n  'Salary:',\r\n  'input',\r\n  'salary',\r\n  'salary',\r\n  'number',\r\n);\r\n\r\n// Button\r\nconst button = document.createElement('button');\r\n\r\nbutton.classList.add('button');\r\nbutton.innerText = 'Save to table';\r\nbutton.setAttribute('type', 'submit');\r\n\r\nform.append(button);\r\n\r\n// Validation\r\nconst validateObject = {\r\n  name: false,\r\n  position: false,\r\n  age: false,\r\n  salary: false,\r\n};\r\n\r\nconst inputs = document.querySelectorAll('input');\r\nconst select = document.querySelector('select');\r\n\r\nbutton.addEventListener('click', (e) => {\r\n  e.preventDefault();\r\n  validateInputs(inputs);\r\n\r\n  const isCorrectData\r\n    = Object.values(validateObject).every(value => value === true);\r\n\r\n  if (isCorrectData) {\r\n    addNewEmployee(inputs, select);\r\n    form.reset();\r\n  }\r\n});\r\n\r\nfunction validateInputs(allInputs) {\r\n  let isValid = true;\r\n\r\n  allInputs.forEach(input => {\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n\r\n    switch (input.name) {\r\n      case 'name': {\r\n        isValid = validateName(input);\r\n        break;\r\n      }\r\n\r\n      case 'position': {\r\n        isValid = validatePosition(input);\r\n        break;\r\n      }\r\n\r\n      case 'age': {\r\n        isValid = validateAge(input);\r\n        break;\r\n      }\r\n\r\n      case 'salary': {\r\n        isValid = validateSalary(input);\r\n        break;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction validateName(input) {\r\n  switch (true) {\r\n    case input.value.length < 4: {\r\n      pushNotification(\r\n        10,\r\n        10,\r\n        'Error!',\r\n        'Name mustn`t be less than 4 characters!',\r\n        'error'\r\n      );\r\n\r\n      return false;\r\n    }\r\n\r\n    case input.value.length === 0: {\r\n      pushNotification(\r\n        10,\r\n        10,\r\n        'Error!',\r\n        'Please, fill name!',\r\n        'error'\r\n      );\r\n\r\n      return false;\r\n    }\r\n\r\n    case !isNaN(+input.value): {\r\n      pushNotification(\r\n        10,\r\n        10,\r\n        'Error!',\r\n        'Name can`t a number!',\r\n        'error'\r\n      );\r\n\r\n      return false;\r\n    }\r\n\r\n    default: {\r\n      validateObject.name = true;\r\n\r\n      return true;\r\n    }\r\n  }\r\n}\r\n\r\nfunction validatePosition(input) {\r\n  switch (true) {\r\n    case input.value.length === 0: {\r\n      pushNotification(\r\n        10,\r\n        10,\r\n        'Error!',\r\n        'Please, fill position!',\r\n        'error'\r\n      );\r\n\r\n      return false;\r\n    }\r\n\r\n    case !isNaN(+input.value): {\r\n      pushNotification(\r\n        10,\r\n        10,\r\n        'Error!',\r\n        'Position can`t a number!',\r\n        'error'\r\n      );\r\n\r\n      return false;\r\n    }\r\n\r\n    default: {\r\n      validateObject.position = true;\r\n\r\n      return true;\r\n    }\r\n  }\r\n}\r\n\r\nfunction validateAge(input) {\r\n  const numberValue = getSimpleNumber(input.value);\r\n\r\n  switch (true) {\r\n    case numberValue < 18 || numberValue > 90: {\r\n      pushNotification(\r\n        10,\r\n        10,\r\n        'Error!',\r\n        'Age must be between 18 and 90!',\r\n        'error'\r\n      );\r\n\r\n      return false;\r\n    }\r\n\r\n    case input.value.length === 0: {\r\n      pushNotification(\r\n        10,\r\n        10,\r\n        'Error!',\r\n        'Please, fill the age!',\r\n        'error'\r\n      );\r\n\r\n      return false;\r\n    }\r\n\r\n    default: {\r\n      validateObject.age = true;\r\n\r\n      return true;\r\n    }\r\n  }\r\n}\r\n\r\nfunction validateSalary(input) {\r\n  switch (true) {\r\n    case input.value.length === 0: {\r\n      pushNotification(\r\n        10,\r\n        10,\r\n        'Error!',\r\n        'Please, fill salary!',\r\n        'error'\r\n      );\r\n\r\n      return false;\r\n    }\r\n\r\n    default: {\r\n      validateObject.salary = true;\r\n\r\n      return true;\r\n    }\r\n  }\r\n}\r\n\r\n// Add new Employee\r\nfunction addNewEmployee(allInputs, selectElement) {\r\n  const tr = document.createElement('tr');\r\n  const index = [...allInputs].findIndex(input => {\r\n    return input.name === 'age';\r\n  });\r\n  const selectTd = document.createElement('td');\r\n\r\n  selectTd.innerText = selectElement.value;\r\n\r\n  allInputs.forEach(input => {\r\n    const td = document.createElement('td');\r\n\r\n    if (input.name === 'salary') {\r\n      td.innerText = `$${(+input.value).toLocaleString('en-US')}`;\r\n    } else {\r\n      td.innerText = input.value;\r\n    }\r\n\r\n    tr.append(td);\r\n  });\r\n\r\n  tr.insertBefore(selectTd, tr.children[index]);\r\n  tableBody.append(tr);\r\n}\r\n\r\n// Help functions\r\nfunction getSimpleNumber(string) {\r\n  if (string === '' || string.trim() === '') {\r\n    return NaN;\r\n  }\r\n\r\n  return +string;\r\n}\r\n\r\nfunction getAdvancedNumber(string) {\r\n  if (string === '' || string.trim() === '') {\r\n    return NaN;\r\n  }\r\n\r\n  return +string.slice(1).split(',').join('');\r\n}\r\n\r\nfunction pushNotification(posTop, posRight, title, description, type) {\r\n  const notificationBody = document.createElement('div');\r\n  const notificationTitle = document.createElement('h2');\r\n  const notificationText = document.createElement('p');\r\n\r\n  notificationBody.classList.add('notification', type);\r\n  notificationBody.style.top = `${posTop}px`;\r\n  notificationBody.style.right = `${posRight}px`;\r\n\r\n  notificationTitle.classList.add('title');\r\n  notificationTitle.innerText = title;\r\n  notificationBody.append(notificationTitle);\r\n\r\n  notificationText.innerText = description;\r\n  notificationBody.append(notificationText);\r\n\r\n  document.body.prepend(notificationBody);\r\n\r\n  setTimeout(() => {\r\n    notificationBody.remove();\r\n  }, 2000);\r\n};\r\n\r\n// Edit table data\r\ntableBody.addEventListener('dblclick', (e) => {\r\n  const td = e.target.closest('td');\r\n\r\n  setInput(td);\r\n});\r\n\r\nfunction setInput(td) {\r\n  const cellInput = document.createElement('input');\r\n  const tdData = td.innerText;\r\n\r\n  cellInput.classList.add('cell-input');\r\n\r\n  if (\r\n    isNaN(getSimpleNumber(tdData))\r\n    && isNaN(getAdvancedNumber(tdData))\r\n  ) {\r\n    cellInput.setAttribute('type', 'text');\r\n    cellInput.value = tdData;\r\n  } else {\r\n    cellInput.setAttribute('type', 'number');\r\n\r\n    if (!isNaN(getSimpleNumber(tdData))) {\r\n      cellInput.value = tdData;\r\n    } else {\r\n      cellInput.value = `${getAdvancedNumber(tdData)}`;\r\n    }\r\n  }\r\n\r\n  td.innerText = '';\r\n  td.append(cellInput);\r\n\r\n  cellInput.addEventListener('blur', () => {\r\n    if (cellInput.value.length === 0 || cellInput.value === '') {\r\n      td.innerText = tdData;\r\n    } else if (tdData.includes('$')) {\r\n      td.innerText = `$${(+cellInput.value).toLocaleString('en-US')}`;\r\n    } else {\r\n      td.innerText = cellInput.value;\r\n    }\r\n  });\r\n}\r\n"]}